<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nested Promise</title>
  </head>
  <body></body>
</html>
<script>
  const firstPromise = () => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        //console.log("First Promise");
        reject("First result");
      }, 1000);
    });
  };

  const secondPromise = (resultFromFirst) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("Second Promise, received:", resultFromFirst);
        resolve("Second result");
      }, 1000);
    });
  };

  const thirdPromise = (resultFromSecond) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("Third Promise, received:", resultFromSecond);
        resolve("Third result");
      }, 1000);
    });
  };

  const fourthPromise = (resultFromThird) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("Fourth Promise, received:", resultFromThird);
        resolve("Fourth result");
      }, 1000);
    });
  };

  const fifthPromise = (resultFromFourth) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("Fifth Promise, received:", resultFromFourth);
        resolve("Fifth result");
      }, 1000);
    });
  };

  const sixthPromise = (resultFromFifth) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("Sixth Promise, received:", resultFromFifth);
        resolve("Sixth result");
      }, 1000);
    });
  };

  /*   firstPromise()
    .then((result) => {
      secondPromise(result)
        .then((result) => {
          thirdPromise(result)
            .then((result) => {
              fourthPromise(result)
                .then((result) => {
                  fifthPromise(result)
                    .then((result) => {
                      sixthPromise(result)
                        .then((result) => {
                          console.log("Final result:", result);
                        })
                        .catch((err) => {
                          console.error("Error in sixthPromise:", err);
                        });
                    })
                    .catch((err) => {
                      console.error("Error in fifthPromise:", err);
                    });
                })
                .catch((err) => {
                  console.error("Error in fourthPromise:", err);
                });
            })
            .catch((err) => {
              console.error("Error in thirdPromise:", err);
            });
        })
        .catch((err) => {
          console.error("Error in secondPromise:", err);
        });
    })
    .catch((err) => {
      console.error("Error in firstPromise:", err);
    }); */

  const runPromises = async () => {
    /* const first = await firstPromise().catch((err) => {
      console.log("Err: ", err);
      return null;
    }); */

    const first = await firstPromise().catch(() => null);
    if (!first) {
      console.log("Inside first Error: ", first);
      //return;
    }

    console.log("LN 115: ", first);
    const second = await secondPromise().catch((err) => {
      console.log("Err: ", err);
      return null;
    });

    if (!second) {
      console.log("Inside second Error: ", second);
      return;
    }
  };

  runPromises();
</script>